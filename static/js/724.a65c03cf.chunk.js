"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[724],{7724:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(4942),s=n(1413),r=n(8152),i=n(2791),o=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;){var a=63&n[e];t+=a<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a<63?"_":"-"}return t},c=n(8099),l=n(5562),u=n.n(l),m="ContactForm_section__Yogoh",d="ContactForm_title__jZguf",_="ContactForm_label__-cVXI",h="ContactForm_input__Bl93P",f="ContactForm_button__eSwX9",b=n(3329),p=function(){var e=(0,i.useState)({name:"",number:""}),t=(0,r.Z)(e,2),n=t[0],l=t[1],p=(0,c.wY)().data,x=(0,c.Tn)(),j=(0,r.Z)(x,2),C=j[0],N=j[1],g=N.isSuccess,v=N.isLoading,L=function(e){var t=e.currentTarget,n=t.name,r=t.value;l((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,a.Z)({},n,r))}))},w=function(){l({name:"",number:""})};(0,i.useEffect)((function(){g&&w()}),[g]);var k=n.name,y=n.number;return(0,b.jsxs)("div",{className:m,children:[(0,b.jsx)("h2",{className:d,children:"Add contacts to phone book"}),(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=(0,s.Z)({id:o()},n);if(p.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()})))return w(),u().Notify.failure("".concat(t.name," is already in phonebook"));C(t)},children:[(0,b.jsxs)("label",{className:_,children:["Name",(0,b.jsx)("input",{className:h,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:k,onChange:L})]}),(0,b.jsxs)("label",{className:_,children:["Number",(0,b.jsx)("input",{className:h,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:y,onChange:L})]}),(0,b.jsx)("button",{type:"submit",className:f,disabled:v,children:"Add contact"})]})]})},x=n(1405),j=n(6373),C="ContactsListItem_item__VnwkN",N="ContactsListItem_name__jhG1M",g="ContactsListItem_number__jtk+m",v="ContactsListItem_button__gfbnW",L=function(e){var t=e.id,n=e.name,a=e.number,s=(0,c.Nt)(),i=(0,r.Z)(s,2),o=i[0],l=i[1].isLoading;return(0,b.jsxs)("li",{id:t,className:C,children:[(0,b.jsx)("span",{className:N,children:n}),":"," ",(0,b.jsx)("span",{className:g,children:a}),(0,b.jsx)("button",{className:v,onClick:function(){return o(t)},disabled:l,children:"Delete"})]})},w={section:"ContactsList_section__IE6+j",title:"ContactsList_title__Nc-fb",list:"ContactsList_list__mmE3Y",text:"ContactsList_text__URA4K"},k=function(){var e=(0,c.wY)(),t=e.data,n=e.isLoading,a=e.isSuccess,s=(0,x.v9)((function(e){return e.filter})),r=""===s?t:t.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())}));return(0,b.jsxs)("div",{className:w.section,children:[(0,b.jsx)("h2",{className:w.title,children:"Phone book"}),(0,b.jsxs)("ul",{className:w.list,children:[n&&(0,b.jsx)("div",{className:w.loader,children:(0,b.jsx)(j._P,{height:"200",width:"200",color:"#0031f9",ariaLabel:"loading"})}),a&&r.map((function(e){var t=e.id,n=e.name,a=e.number;return(0,b.jsx)(L,{id:t,name:n,number:a},t)})),r&&0===r.length&&(0,b.jsx)("span",{className:w.text,children:" Phone book is empty "})]})]})},y=n(9030),F="ContactsFilter_section__4Ctst",Z="ContactsFilter_title__G0Uie",A="ContactsFilter_input__8nlWg",I=function(){var e=(0,x.I0)(),t=(0,x.v9)((function(e){return e.contacts.filter}));return(0,b.jsxs)("div",{className:F,children:[(0,b.jsx)("h2",{className:Z,children:"Find contacts by name"}),(0,b.jsx)("input",{className:A,onChange:function(t){e((0,y.M6)(t.currentTarget.value))},value:t})]})};function S(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p,{}),(0,b.jsx)(I,{}),(0,b.jsx)(k,{})]})}}}]);
//# sourceMappingURL=724.a65c03cf.chunk.js.map